var n=void 0,t=!0,u=null,w=!1;
(function(){function f(a,b){function d(){this.constructor=b}for(var g in a)c.call(a,g)&&(b[g]=a[g]);d.prototype=a.prototype;b.prototype=new d;b.ja=a.prototype}var a,c={}.hasOwnProperty,d=this;a=this.c=function(){function a(){}return a.version=1,a.s=w,a.hostname="https://api.openpay.mx/v1/",a.fa="https://sandbox-api.openpay.mx/v1/",a.bb=function(b){a.s=b?t:w},a.Ta=function(){return a.s},a.ab=function(b){a.id=b},a.$a=function(b){a.key=b},a.log=function(a){"object"===typeof a&&"toString"in a&&(a=a.toString());
"undefined"!==typeof console&&"log"in console&&console.log(a)},a.Da=function(a,c){if(!a)throw c+" required";if("object"!==typeof a)throw c+" invalid";},a.Sa=function(a){return a},a.send=function(b,c,d,k){function f(){var a=window,b=typeof a.XMLHttpRequest;return"function"==b||!!("object"==b&&a.XMLHttpRequest)||"unknown"==b}function p(a,b,c){clearTimeout(q);var d=u;a=a||"Unknown error";b=b||0;try{d=JSON.parse(c||"{}")}catch(e){a="Response error"}k({message:a,status:b,data:d,toString:function(){return this.message+
" [status "+this.status+"]"}})}function m(){if("undefined"!==typeof h.readyState&&4==h.readyState||"undefined"!==typeof XDomainRequest)if(clearTimeout(q),200>h.status||300<=h.status)p("Request error",h.status,h.responseText);else try{d({data:JSON.parse(h.responseText),status:200})}catch(a){p("Response error (Unknown final status)",h.status,"{}")}}var h=u,q=u,v="",z="",s={},y=0,s="";if("undefined"===typeof a.id||!/^[a-z0-9]+$/i.test(a.id))p("Empty or invalid OpenPay ID");else if("undefined"===typeof a.key||
!/^pk_[a-z0-9]+$/i.test(a.key))p("Empty or invalid OpenPay API Key");else if("function"!==typeof d&&(d=a.log),"function"!==typeof k&&(k=a.log),"undefined"===typeof JSON)p("Browser error (JSON library not found)");else if(v="undefined"!==typeof XDomainRequest?new XDomainRequest:f()?new XMLHttpRequest:n,h=v){s=btoa(a.key+":");v=(a.s?a.fa:a.hostname)+a.id+"/"+b;z=JSON.stringify(c);s={Accept:"application/json","Content-Type":"application/json",Authorization:"Basic "+s};y=4E4;"withCredentials"in h&&(h.withCredentials=
t);h.open("POST",v,t);for(var x in s)s.hasOwnProperty(x)&&s[x]&&"setRequestHeader"in h&&h.setRequestHeader(x,s[x]);"onreadystatechange"in h?h.onreadystatechange=m:"onload"in h&&"onerror"in h&&(h.onload=m,h.onerror=p);q=setTimeout(function(){"onload"in h?h.onload=Function.prototype:h.onreadystatechange=Function.prototype;h.abort();h=u;p("Timeout after "+y+" milliseconds")},y);h.send(z)}else p("Browser error (CORS not supported)")},a}.call(this);this.c.La=function(c){function b(){return b.ja.constructor.apply(this,
arguments)}return f(c,b),b.eb="card",b.jb="card_number holder_name cvv2 expiration_month expiration_year address".split(" "),b.create=function(b,c,d,e){var f="cards";"undefined"!==typeof e&&""!==e&&(f="customers/"+e+"/cards");return a.Da(b,"tarjeta"),a.send(f,b,c,d)},b.hb=function(a){return a=(a+"").replace(/\s+|-/g,""),/^\d+$/.test(a)&&10<=a.length&&16>=a.length&&b.wa(a)&&b.Fa(a)&&b.Ea(a)},b.gb=function(b){return b=a.P.trim(b),/^\d+$/.test(b)&&3<=b.length&&4>=b.length},b.ib=function(b,c){var d,e;
return b=a.P.trim(b),c=a.P.trim(c),/^\d+$/.test(b)?/^\d+$/.test(c)?12>=parseInt(b,10)?(e=new Date(c,b),d=new Date,e.setMonth(e.getMonth()-1),e.setMonth(e.getMonth()+1,1),e>d):w:w:w},b.Fa=function(a){var c=u;if(c=b.J(a))for(var d=c.length.length;d--;)if(c.length[d]==a.length)return t;return w},b.Ea=function(a){var c=u;return(c=b.J(a))?c.accept:w},b.wa=function(a){var c,d,e,f,m;d=t;e=0;c=(a+"").split("").reverse();f=0;for(m=b.length;f<m;f++){a=c[f];a=parseInt(a,10);if(d=!d)a*=2;9<a&&(a-=9);e+=a}return 0===
e%10},b.Ma=function(a){var c=u;return(c=b.J(a))?c.name:""},b.Na=function(){return{visa_electron:{name:"Visa Electron",regx:/^(4026|417500|4508|4844|491(3|7))/,length:[16],accept:t},visa:{name:"Visa",regx:/^4/,length:[16],accept:t},mastercard:{name:"Mastercard",regx:/^5[1-5]/,length:[16],accept:t},amex:{name:"American Express",regx:/^3[47]/,length:[15],accept:w},diners_cb:{name:"Diners Club Carte Blanche",regx:/^30[0-5]/,length:[14],accept:w},diners_int:{name:"Diners Club International",regx:/^36/,
length:[14],accept:w},jcb:{name:"JCB",regx:/^35(2[89]|[3-8][0-9])/,length:[16],accept:w},laser:{name:"Laser",regx:/^(6304|670[69]|6771)/,length:[16,17,18,19],accept:w},maestro:{name:"Maestro",regx:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19],accept:w},discover:{name:"Discover",regx:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16],accept:w}}},b.J=function(a){var b={},b={visa_electron:{name:"Visa Electron",regx:/^(4026|417500|4508|4844|491(3|7))/,
length:[16],accept:t},visa:{name:"Visa",regx:/^4/,length:[16],accept:t},mastercard:{name:"Mastercard",regx:/^5[1-5]/,length:[16],accept:t},amex:{name:"American Express",regx:/^3[47]/,length:[15],accept:w},diners_cb:{name:"Diners Club Carte Blanche",regx:/^30[0-5]/,length:[14],accept:w},diners_int:{name:"Diners Club International",regx:/^36/,length:[14],accept:w},jcb:{name:"JCB",regx:/^35(2[89]|[3-8][0-9])/,length:[16],accept:w},laser:{name:"Laser",regx:/^(6304|670[69]|6771)/,length:[16,17,18,19],
accept:w},maestro:{name:"Maestro",regx:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19],accept:w},discover:{name:"Discover",regx:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16],accept:w}},c;for(c in b)if(_cardObj=b[c],a.match(_cardObj.Ya))return _cardObj;return w},b}.call(this,this.c);this.c.P=function(a){function b(){}return f(a,b),b.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},b.Ba=function(a){return(a+"").replace(/([A-Z])/g,
function(a){return"_"+a.toLowerCase()}).replace(/-/g,"_")},b.fb=function(a){var b,c;c=[];for(var d in a)b=a[d],delete a[d],c.push(a[this.Ba(d)]=b);return c},b.Ua=function(a){return"object"!=typeof a?w:"undefined"!=typeof jQuery&&jQuery!==u&&a instanceof jQuery?t:1===a.nodeType},b}.call(this,this.c);this.c.Pa=function(a){function b(){}function c(a,b){var d=document.createElement("input");d.type="hidden";d.value=b;d.name=a;return d}function d(a,b){setTimeout(function(){var c=document.createElement("iframe");
c.width=1;c.height=1;c.frameBorder=0;c.scrolling="no";c.src=a;document.body.appendChild(c);var d=document.createElement("img");d.src=b;d.width=1;d.height=1;c.appendChild(d)},50)}b.ta="logo.gif";b.sa="logo.htm";b.ra=12345;b.Aa=6789;f(a,b);b.ca=function(){b.aa===n&&(b.aa=sjcl.e.o.w(sjcl.random.za(6,0)));return b.aa};b.cb=function(f,r){document.getElementById(f).appendChild(c(r,b.ca()));var p="?m="+(a.s?b.Aa:b.ra)+"&s="+b.ca(),m=a.s?a.fa:a.hostname;d(m+b.sa+p,m+b.ta+p)};return b}.call(this,this.c);"undefined"!=
typeof module&&module!==u&&(module.K=this.c);"function"==typeof define&&define("openpay",[],function(){return d.c})}).call(this);
(function(){var f={v:{},hash:{},Va:{},mode:{},Wa:{},e:{},q:{Oa:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},N:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},pa:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},xa:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};"undefined"!==typeof module&&module.K&&(module.K=f);f.v.I=function(a){this.k[0][0][0]||this.G();
var c,d,e,b,l=this.k[0][4],g=this.k[1];c=a.length;var k=1;if(4!==c&&6!==c&&8!==c)throw new f.q.N("invalid aes key size");this.b=[e=a.slice(0),b=[]];for(a=c;a<4*c+28;a++){d=e[a-1];if(0===a%c||8===c&&4===a%c)d=l[d>>>24]<<24^l[d>>16&255]<<16^l[d>>8&255]<<8^l[d&255],0===a%c&&(d=d<<8^d>>>24^k<<24,k=k<<1^283*(k>>7));e[a]=e[a-c]^d}for(c=0;a;c++,a--)d=e[c&3?a:a-4],b[c]=4>=a||4>c?d:g[0][l[d>>>24]]^g[1][l[d>>16&255]]^g[2][l[d>>8&255]]^g[3][l[d&255]]};f.v.I.prototype={ua:function(a){return this.ma(a,0)},k:[[[],
[],[],[],[]],[[],[],[],[],[]]],G:function(){var a=this.k[0],c=this.k[1],d=a[4],e=c[4],b,f,g,k=[],r=[],p,m,h,q;for(b=0;0x100>b;b++)r[(k[b]=b<<1^283*(b>>7))^b]=b;for(f=g=0;!d[f];f^=p||1,g=r[g]||1){h=g^g<<1^g<<2^g<<3^g<<4;h=h>>8^h&255^99;d[f]=h;e[h]=f;m=k[b=k[p=k[f]]];q=0x1010101*m^0x10001*b^0x101*p^0x1010100*f;m=0x101*k[h]^0x1010100*h;for(b=0;4>b;b++)a[b][f]=m=m<<24^m>>>8,c[b][h]=q=q<<24^q>>>8}for(b=0;5>b;b++)a[b]=a[b].slice(0),c[b]=c[b].slice(0)},ma:function(a,c){if(4!==a.length)throw new f.q.N("invalid aes block size");
var d=this.b[c],e=a[0]^d[0],b=a[c?3:1]^d[1],l=a[2]^d[2],g=a[c?1:3]^d[3],k,r,p,m=d.length/4-2,h,q=4,v=[0,0,0,0];k=this.k[c];var z=k[0],s=k[1],y=k[2],x=k[3],A=k[4];for(h=0;h<m;h++)k=z[e>>>24]^s[b>>16&255]^y[l>>8&255]^x[g&255]^d[q],r=z[b>>>24]^s[l>>16&255]^y[g>>8&255]^x[e&255]^d[q+1],p=z[l>>>24]^s[g>>16&255]^y[e>>8&255]^x[b&255]^d[q+2],g=z[g>>>24]^s[e>>16&255]^y[b>>8&255]^x[l&255]^d[q+3],q+=4,e=k,b=r,l=p;for(h=0;4>h;h++)v[c?3&-h:h]=A[e>>>24]<<24^A[b>>16&255]<<16^A[l>>8&255]<<8^A[g&255]^d[q++],k=e,e=
b,b=l,l=g,g=k;return v}};f.a={Ka:function(a,c,d){a=f.a.Z(a.slice(c/32),32-(c&31)).slice(1);return d===n?a:f.a.qa(a,d-c)},Ra:function(a,c,d){var e=Math.floor(-c-d&31);return((c+d-1^c)&-32?a[c/32|0]<<32-e^a[c/32+1|0]>>>e:a[c/32|0]>>>e)&(1<<d)-1},concat:function(a,c){if(0===a.length||0===c.length)return a.concat(c);var d=a[a.length-1],e=f.a.L(d);return 32===e?a.concat(c):f.a.Z(c,e,d|0,a.slice(0,a.length-1))},p:function(a){var c=a.length;return 0===c?0:32*(c-1)+f.a.L(a[c-1])},qa:function(a,c){if(32*a.length<
c)return a;a=a.slice(0,Math.ceil(c/32));var d=a.length;c&=31;0<d&&c&&(a[d-1]=f.a.r(c,a[d-1]&2147483648>>c-1,1));return a},r:function(a,c,d){return 32===a?c:(d?c|0:c<<32-a)+0x10000000000*a},L:function(a){return Math.round(a/0x10000000000)||32},Qa:function(a,c){if(f.a.p(a)!==f.a.p(c))return w;var d=0,e;for(e=0;e<a.length;e++)d|=a[e]^c[e];return 0===d},Z:function(a,c,d,e){var b;b=0;for(e===n&&(e=[]);32<=c;c-=32)e.push(d),d=0;if(0===c)return e.concat(a);for(b=0;b<a.length;b++)e.push(d|a[b]>>>c),d=a[b]<<
32-c;b=a.length?a[a.length-1]:0;a=f.a.L(b);e.push(f.a.r(c+a&31,32<c+a?d:e.pop(),1));return e},Ia:function(a,c){return[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}};f.e.Ca={w:function(a){var c="",d=f.a.p(a),e,b;for(e=0;e<d/8;e++)0===(e&3)&&(b=a[e/4]),c+=String.fromCharCode(b>>>24),b<<=8;return decodeURIComponent(escape(c))},z:function(a){a=unescape(encodeURIComponent(a));var c=[],d,e=0;for(d=0;d<a.length;d++)e=e<<8|a.charCodeAt(d),3===(d&3)&&(c.push(e),e=0);d&3&&c.push(f.a.r(8*(d&3),e));return c}};f.e.o=
{S:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w:function(a,c,d){var e="",b=0,l=f.e.o.S,g=0,k=f.a.p(a);d&&(l=l.substr(0,62)+"-_");for(d=0;6*e.length<k;)e+=l.charAt((g^a[d]>>>b)>>>26),6>b?(g=a[d]<<6-b,b+=26,d++):(g<<=6,b-=6);for(;e.length&3&&!c;)e+="=";return e},z:function(a,c){a=a.replace(/\s|=/g,"");var d=[],e,b=0,l=f.e.o.S,g=0,k;c&&(l=l.substr(0,62)+"-_");for(e=0;e<a.length;e++){k=l.indexOf(a.charAt(e));if(0>k)throw new f.q.N("this isn't base64!");26<b?(b-=26,d.push(g^k>>>
b),g=k<<32-b):(b+=6,g^=k<<32-b)}b&56&&d.push(f.a.r(b&56,g,1));return d}};f.e.Ja={w:function(a){return f.e.o.w(a,1,1)},z:function(a){return f.e.o.z(a,1)}};f.hash.l=function(a){this.b[0]||this.G();a?(this.t=a.t.slice(0),this.n=a.n.slice(0),this.h=a.h):this.reset()};f.hash.l.hash=function(a){return(new f.hash.l).update(a).ba()};f.hash.l.prototype={reset:function(){this.t=this.X.slice(0);this.n=[];this.h=0;return this},update:function(a){"string"===typeof a&&(a=f.e.Ca.z(a));var c,d=this.n=f.a.concat(this.n,
a);c=this.h;a=this.h=c+f.a.p(a);for(c=512+c&-512;c<=a;c+=512)this.R(d.splice(0,16));return this},ba:function(){var a,c=this.n,d=this.t,c=f.a.concat(c,[f.a.r(1,1)]);for(a=c.length+2;a&15;a++)c.push(0);c.push(Math.floor(this.h/0x100000000));for(c.push(this.h|0);c.length;)this.R(c.splice(0,16));this.reset();return d},X:[],b:[],G:function(){var a=0,c=2,d;a:for(;64>a;c++){for(d=2;d*d<=c;d++)if(0===c%d)continue a;8>a&&(this.X[a]=0x100000000*(Math.pow(c,0.5)-Math.floor(Math.pow(c,0.5)))|0);this.b[a]=0x100000000*
(Math.pow(c,1/3)-Math.floor(Math.pow(c,1/3)))|0;a++}},R:function(a){var c,d,e=a.slice(0),b=this.t,f=this.b,g=b[0],k=b[1],r=b[2],p=b[3],m=b[4],h=b[5],q=b[6],v=b[7];for(a=0;64>a;a++)16>a?c=e[a]:(c=e[a+1&15],d=e[a+14&15],c=e[a&15]=(c>>>7^c>>>18^c>>>3^c<<25^c<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+e[a&15]+e[a+9&15]|0),c=c+v+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(q^m&(h^q))+f[a],v=q,q=h,h=m,m=p+c|0,p=r,r=k,k=g,g=c+(k&r^p&(k^r))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;b[0]=b[0]+g|0;b[1]=b[1]+k|0;b[2]=
b[2]+r|0;b[3]=b[3]+p|0;b[4]=b[4]+m|0;b[5]=b[5]+h|0;b[6]=b[6]+q|0;b[7]=b[7]+v|0}};f.ea=function(a){this.d=[new f.hash.l];this.i=[0];this.H=0;this.u={};this.D=0;this.T={};this.Y=this.f=this.j=this.la=0;this.b=[0,0,0,0,0,0,0,0];this.g=[0,0,0,0];this.C=n;this.U=a;this.Ha=w;this.ka={Xa:{},Za:{}};this.m=this.Ga=0;this.A=1;this.B=2;this.ha=0x10000;this.Q=[0,48,64,96,128,192,0x100,384,512,768,1024];this.ia=3E4;this.ga=80};f.ea.prototype={za:function(a,c){var d=[],e;e=this.O(c);var b;if(e===this.m)throw new f.q.xa("generator isn't seeded");
e&this.B&&this.oa(!(e&this.A));for(e=0;e<a;e+=4)0===(e+1)%this.ha&&this.W(),b=this.F(),d.push(b[0],b[1],b[2],b[3]);this.W();return d.slice(0,a)},$:function(a,c,d){d=d||"user";var e,b,l=(new Date).valueOf(),g=this.u[d],k=this.O(),r=0;e=this.T[d];e===n&&(e=this.T[d]=this.la++);g===n&&(g=this.u[d]=0);this.u[d]=(this.u[d]+1)%this.d.length;switch(typeof a){case "number":c===n&&(c=1);this.d[g].update([e,this.D++,1,c,l,1,a|0]);break;case "object":d=Object.prototype.toString.call(a);if("[object Uint32Array]"===
d){b=[];for(d=0;d<a.length;d++)b.push(a[d]);a=b}else{"[object Array]"!==d&&(r=1);for(d=0;d<a.length&&!r;d++)"number"!==typeof a[d]&&(r=1)}if(!r){if(c===n)for(d=c=0;d<a.length;d++)for(b=a[d];0<b;)c++,b>>>=1;this.d[g].update([e,this.D++,2,c,l,a.length].concat(a))}break;case "string":c===n&&(c=a.length);this.d[g].update([e,this.D++,3,c,l,a.length]);this.d[g].update(a);break;default:r=1}if(r)throw new f.q.pa("random: addEntropy only supports number, array of numbers or string");this.i[g]+=c;this.f+=c;
k===this.m&&(this.O()!==this.m&&this.V("seeded",Math.max(this.j,this.f)),this.V("progress",this.va()))},O:function(a){a=this.Q[a!==n?a:this.U];return this.j&&this.j>=a?this.i[0]>this.ga&&(new Date).valueOf()>this.Y?this.B|this.A:this.A:this.f>=a?this.B|this.m:this.m},va:function(a){a=this.Q[a?a:this.U];return this.j>=a?1:this.f>a?1:this.f/a},F:function(){for(var a=0;4>a&&!(this.g[a]=this.g[a]+1|0,this.g[a]);a++);return this.C.ua(this.g)},W:function(){this.b=this.F().concat(this.F());this.C=new f.v.I(this.b)},
na:function(a){this.b=f.hash.l.hash(this.b.concat(a));this.C=new f.v.I(this.b);for(a=0;4>a&&!(this.g[a]=this.g[a]+1|0,this.g[a]);a++);},oa:function(a){var c=[],d=0,e;this.Y=c[0]=(new Date).valueOf()+this.ia;for(e=0;16>e;e++)c.push(0x100000000*Math.random()|0);for(e=0;e<this.d.length&&!(c=c.concat(this.d[e].ba()),d+=this.i[e],this.i[e]=0,!a&&this.H&1<<e);e++);this.H>=1<<this.d.length&&(this.d.push(new f.hash.l),this.i.push(0));this.f-=d;d>this.j&&(this.j=d);this.H++;this.na(c)},V:function(a,c){var d,
e=f.random.ka[a],b=[];for(d in e)e.hasOwnProperty(d)&&b.push(e[d]);for(d=0;d<b.length;d++)b[d](c)}};f.random=new f.ea(6);(function(){try{var a,c,d;if("undefined"!==typeof module&&module.K&&(c=require("crypto"))&&c.ya)a=c.ya(128),a=new Uint32Array((new Uint8Array(a)).buffer),f.random.$(a,1024,"crypto.randomBytes");else if(window&&Uint32Array){d=new Uint32Array(32);if(window.crypto&&window.crypto.M)window.crypto.M(d);else if(window.da&&window.da.M)window.da.M(d);else return;f.random.$(d,1024,"crypto.getRandomValues")}}catch(e){console.log("There was an error collecting entropy from the browser:"),
console.log(e)}})()})();
